{"version":3,"sources":["main.js"],"names":[],"mappings":";;;;;;;;;;AAIA,CAAC,UAAS,MAAT,EAAiB,QAAjB,EAA2B;AACxB,iBADwB;;QAGlB;AAEF,4BAAY,KAAZ,EAAmB;;;AACf,iBAAK,IAAL,GAAY,EAAE,MAAM,IAAN,CAAd,CADe;AAEf,iBAAK,MAAL,GAAc,EAAE,SAAF,EAAa,KAAK,IAAL,CAA3B,CAFe;AAGf,iBAAK,OAAL,GAAe,EAAE,cAAF,EAAkB,KAAK,IAAL,CAAjC,CAHe;AAIf,gBAAI,KAAK,IAAL,CAAJ,CAJe;AAKf,gBAAI,KAAK,MAAL,CAAJ,CALe;AAMf,gBAAI,KAAK,OAAL,CAAJ,CANe;;AAQf,iBAAK,IAAL,GARe;SAAnB;;;;mCAWO;;AAEH,oBAAI,OAAO,IAAP;oBACA,cADJ;oBAEI,aAFJ;oBAGI,YAHJ;oBAII,aAJJ;oBAKI,aALJ;oBAMI,WANJ;oBAOI,aAPJ,CAFG;;AAWH,oBAAI,KAAK,MAAL,CAAJ,CAXG;AAYH,qBAAK,MAAL,CAAY,gBAAZ,CAA6B,MAA7B,EAAqC,UAAC,KAAD,EAAW;;AAE5C,0BAAM,cAAN,GAF4C;;AAI5C,wBAAI,KAAJ,EAJ4C;;AAM5C,4BAAQ,MAAM,YAAN,CAAmB,KAAnB,CANoC;;AAQ5C,wBAAG,CAAC,MAAM,MAAN,EAAc,OAAlB;;AAEA,2BAAO,MAAM,CAAN,CAAP,CAV4C;;AAY5C,wBAAG,KAAK,IAAL,CAAU,OAAV,CAAkB,OAAlB,IAA6B,CAA7B,EAAgC;AAC/B,8BAAM,sBAAN,EAD+B;AAE/B,+BAF+B;qBAAnC;;AAKA,0BAAM,OAAO,GAAP,CAAW,eAAX,CAA2B,MAAM,CAAN,CAA3B,CAAN,CAjB4C;AAkB5C,2BAAO,KAAK,IAAL,CAlBqC;AAmB5C,2BAAO,KAAK,KAAL,CAAW,KAAK,IAAL,GAAY,IAAZ,CAAlB,CAnB4C;;AAqB5C,yBAAK,SAAS,aAAT,CAAuB,IAAvB,CAAL,CArB4C;;AAuB5C,wGACuD,4HAGrC,kDACD,kgBALjB,CAvB4C;;AAyC5C,uBAAG,SAAH,GAAe,IAAf,CAzC4C;;AA2C5C,yBAAK,OAAL,CAAa,WAAb,CAAyB,EAAzB,EA3C4C;iBAAX,CAArC,CAZG;;;;;QAhBa;;AA4ExB,QAAI,UAAJ,CAAe;AACX,cAAM,OAAN;AACA,gBAAQ,cAAR;AACA,iBAAS,cAAT;KAHJ;;;AA5EwB,QAmFlB,QAAQ,CAAC,WAAD,EAAc,UAAd,EAA0B,WAA1B,EAAuC,MAAvC,CAAR,CAnFkB;AAoFxB,UAAM,OAAN,CAAc,UAAC,IAAD,EAAU;AACpB,iBAAS,gBAAT,CAA0B,IAA1B,EAAgC,UAAC,KAAD,EAAW;AACvC,kBAAM,cAAN,GADuC;SAAX,CAAhC,CADoB;KAAV,CAAd,CApFwB;;AA0FxB,aAAS,CAAT,CAAW,QAAX,EAAqB,OAArB,EAA8B;AAC1B,YAAG,OAAH,EAAY;AACR,mBAAO,QAAQ,aAAR,CAAsB,QAAtB,CAAP,CADQ;SAAZ;AAGA,eAAO,SAAS,aAAT,CAAuB,QAAvB,CAAP,CAJ0B;KAA9B;;AAOA,aAAS,EAAT,CAAY,QAAZ,EAAsB,OAAtB,EAA+B;AAC3B,YAAG,OAAH,EAAY;AACR,mBAAO,QAAQ,gBAAR,CAAyB,QAAzB,CAAP,CADQ;SAAZ;AAGA,eAAO,SAAS,gBAAT,CAA0B,QAA1B,CAAP,CAJ2B;KAA/B;;AAOA,aAAS,GAAT,CAAa,CAAb,EAAgB;AACZ,gBAAQ,GAAR,CAAY,CAAZ,EADY;KAAhB;CAxGH,CAAD,CA2GG,MA3GH,EA2GW,QA3GX","file":"main-compiled.js","sourcesContent":["/**\r\n * Created by Gong on 2016/4/26.\r\n */\r\n\r\n(function(window, document) {\r\n    \"use strict\";\r\n\r\n    class DragUpload {\r\n\r\n        constructor(param) {\r\n            this.wrap = $(param.wrap);\r\n            this.upload = $('#upload', this.wrap);\r\n            this.process = $('#upload-list', this.wrap);\r\n            log(this.wrap);\r\n            log(this.upload);\r\n            log(this.process);\r\n\r\n            this.init();\r\n        }\r\n\r\n        init() {\r\n\r\n            let self = this,\r\n                files,\r\n                file,\r\n                img,\r\n                name,\r\n                size,\r\n                li,\r\n                html;\r\n\r\n            log(self.upload);\r\n            self.upload.addEventListener('drop', (event) => {\r\n\r\n                event.preventDefault();\r\n\r\n                log(event);\r\n\r\n                files = event.dataTransfer.files;\r\n\r\n                if(!files.length) return;\r\n\r\n                file = files[0];\r\n\r\n                if(file.type.indexOf('image') < 0) {\r\n                    alert('File is not an image');\r\n                    return;\r\n                }\r\n\r\n                img = window.URL.createObjectURL(files[0]);\r\n                name = file.name;\r\n                size = Math.floor(file.size / 1024);\r\n\r\n                li = document.createElement('li');\r\n\r\n                html = `\r\n                <div class=\"img-cover\" style=\"background-image: url('${img}')\">\r\n                    <div class=\"info\">\r\n                        <header>\r\n                            <h3>${name}</h3>\r\n                            <p>${size}</p>\r\n                        </header>\r\n                        <div class=\"link\">\r\n                            <div>\r\n                                <label for=\"thumb\">Thumb: <input type=\"text\" id=\"thumb\"></label>\r\n                            </div>\r\n                            <div>\r\n                                <label for=\"large\">Large: <input type=\"text\" id=\"large\"></label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>`;\r\n\r\n                li.innerHTML = html;\r\n\r\n                self.process.appendChild(li);\r\n            });\r\n        }\r\n    }\r\n\r\n    new DragUpload({\r\n        wrap: '#wrap',\r\n        upload: '.upload-area',\r\n        process: '#upload-list'\r\n    });\r\n\r\n    //Remove document dragxxx event\r\n    const dragx = ['dragenter', 'dragover', 'dragleave', 'drop'];\r\n    dragx.forEach((item) => {\r\n        document.addEventListener(item, (event) => {\r\n            event.preventDefault();\r\n        });\r\n    });\r\n\r\n    function $(selector, context) {\r\n        if(context) {\r\n            return context.querySelector(selector);\r\n        }\r\n        return document.querySelector(selector);\r\n    }\r\n\r\n    function $$(selector, context) {\r\n        if(context) {\r\n            return context.querySelectorAll(selector);\r\n        }\r\n        return document.querySelectorAll(selector);\r\n    }\r\n\r\n    function log(c) {\r\n        console.log(c);\r\n    }\r\n})(window, document);\r\n"]}